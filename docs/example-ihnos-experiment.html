<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Encyclopedia of Quantitative Methods in R, vol. 4: Multiple Linear Regression</title>
  <meta name="description" content="Correlation, Model Fit, Generalize, and Plot.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Encyclopedia of Quantitative Methods in R, vol. 4: Multiple Linear Regression" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="EQM_v1_cover.png" />
  <meta property="og:description" content="Correlation, Model Fit, Generalize, and Plot." />
  <meta name="github-repo" content="cehs-research/eBook_wrangle" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Encyclopedia of Quantitative Methods in R, vol. 4: Multiple Linear Regression" />
  
  <meta name="twitter:description" content="Correlation, Model Fit, Generalize, and Plot." />
  <meta name="twitter:image" content="EQM_v1_cover.png" />

<meta name="author" content="Sarah Schwartz &amp; Tyson Barrett">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="example-obesity-and-blood-pressure.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Vol. 4: Multiple Linear Regression</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#blocked-notes"><i class="fa fa-check"></i>Blocked Notes</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#code-and-output"><i class="fa fa-check"></i>Code and Output</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#the-authors"><i class="fa fa-check"></i>The Authors</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-choose-r"><i class="fa fa-check"></i>Why choose R ?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#fyi"><i class="fa fa-check"></i>FYI</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html"><i class="fa fa-check"></i><b>1</b> Example: Ihno’s Experiment</a><ul>
<li class="chapter" data-level="1.1" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#purpose"><i class="fa fa-check"></i><b>1.1</b> Purpose</a><ul>
<li class="chapter" data-level="1.1.1" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#research-question"><i class="fa fa-check"></i><b>1.1.1</b> Research Question</a></li>
<li class="chapter" data-level="1.1.2" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#data-description"><i class="fa fa-check"></i><b>1.1.2</b> Data Description</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>1.2</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="1.2.1" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#univariate-statistics"><i class="fa fa-check"></i><b>1.2.1</b> Univariate Statistics</a></li>
<li class="chapter" data-level="1.2.2" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#bivariate-relationships"><i class="fa fa-check"></i><b>1.2.2</b> Bivariate Relationships</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#regression-analysis"><i class="fa fa-check"></i><b>1.3</b> Regression Analysis</a><ul>
<li class="chapter" data-level="1.3.1" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#subset-the-sample"><i class="fa fa-check"></i><b>1.3.1</b> Subset the Sample</a></li>
<li class="chapter" data-level="1.3.2" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#fit-nested-models"><i class="fa fa-check"></i><b>1.3.2</b> Fit Nested Models</a></li>
<li class="chapter" data-level="1.3.3" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#comparing-nested-models"><i class="fa fa-check"></i><b>1.3.3</b> Comparing Nested Models</a></li>
<li class="chapter" data-level="1.3.4" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#checking-assumptions-via-residual-diagnostics"><i class="fa fa-check"></i><b>1.3.4</b> Checking Assumptions via Residual Diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#conclusion"><i class="fa fa-check"></i><b>1.4</b> Conclusion</a><ul>
<li class="chapter" data-level="1.4.1" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#tabulate-the-final-model-summary"><i class="fa fa-check"></i><b>1.4.1</b> Tabulate the Final Model Summary</a></li>
<li class="chapter" data-level="1.4.2" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#plot-the-model"><i class="fa fa-check"></i><b>1.4.2</b> Plot the Model</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="example-ihnos-experiment.html"><a href="example-ihnos-experiment.html#write-up"><i class="fa fa-check"></i><b>1.5</b> Write-up</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html"><i class="fa fa-check"></i><b>2</b> Example: Obesity and Blood Pressure</a><ul>
<li class="chapter" data-level="2.1" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#packages"><i class="fa fa-check"></i><b>2.1</b> Packages</a></li>
<li class="chapter" data-level="2.2" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#the-data"><i class="fa fa-check"></i><b>2.2</b> The Data</a><ul>
<li class="chapter" data-level="2.2.1" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#declare-and-label-factors"><i class="fa fa-check"></i><b>2.2.1</b> Declare and Label Factors</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#explore-the-raw-data"><i class="fa fa-check"></i><b>2.3</b> Explore the Raw Data</a><ul>
<li class="chapter" data-level="2.3.1" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#tabular-descriptions-summary-statistics"><i class="fa fa-check"></i><b>2.3.1</b> Tabular Descriptions: Summary Statistics</a></li>
<li class="chapter" data-level="2.3.2" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#visualization"><i class="fa fa-check"></i><b>2.3.2</b> Visualization</a></li>
<li class="chapter" data-level="2.3.3" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#codrrelation-pairwise-un-adjusted"><i class="fa fa-check"></i><b>2.3.3</b> Codrrelation: pairwise, un-adjusted</a></li>
<li class="chapter" data-level="2.3.4" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#correlograms---visually-display-correlation-matrix"><i class="fa fa-check"></i><b>2.3.4</b> Correlograms - visually display correlation matrix</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#multiple-linear-regression-mlr"><i class="fa fa-check"></i><b>2.4</b> Multiple Linear Regression (MLR)</a><ul>
<li class="chapter" data-level="2.4.1" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#call-the-model-object-several-ways"><i class="fa fa-check"></i><b>2.4.1</b> Call the model object several ways</a></li>
<li class="chapter" data-level="2.4.2" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#model-fit-indicies"><i class="fa fa-check"></i><b>2.4.2</b> Model fit indicies</a></li>
<li class="chapter" data-level="2.4.3" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#tablular-results"><i class="fa fa-check"></i><b>2.4.3</b> Tablular Results</a></li>
<li class="chapter" data-level="2.4.4" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#fit-nested-models-1"><i class="fa fa-check"></i><b>2.4.4</b> Fit Nested Models</a></li>
<li class="chapter" data-level="2.4.5" data-path="example-obesity-and-blood-pressure.html"><a href="example-obesity-and-blood-pressure.html#test-assumptions-w-residual-diagnostics"><i class="fa fa-check"></i><b>2.4.5</b> Test Assumptions w/ residual diagnostics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="example-ventricular-shortening-velocity.html"><a href="example-ventricular-shortening-velocity.html"><i class="fa fa-check"></i><b>3</b> Example: Ventricular shortening velocity</a><ul>
<li class="chapter" data-level="3.1" data-path="example-ventricular-shortening-velocity.html"><a href="example-ventricular-shortening-velocity.html#packages-1"><i class="fa fa-check"></i><b>3.1</b> Packages</a><ul>
<li class="chapter" data-level="3.1.1" data-path="example-ventricular-shortening-velocity.html"><a href="example-ventricular-shortening-velocity.html#get-to-know-the-data-with-thuesen"><i class="fa fa-check"></i><b>3.1.1</b> Get to know the data with <code>?thuesen</code></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="example-ventricular-shortening-velocity.html"><a href="example-ventricular-shortening-velocity.html#visualization-raw-data"><i class="fa fa-check"></i><b>3.2</b> VISUALIZATION: Raw Data</a><ul>
<li class="chapter" data-level="3.2.1" data-path="example-ventricular-shortening-velocity.html"><a href="example-ventricular-shortening-velocity.html#correlation-un-adjusted"><i class="fa fa-check"></i><b>3.2.1</b> CORRELATION: un-adjusted</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="example-ventricular-shortening-velocity.html"><a href="example-ventricular-shortening-velocity.html#fit-regression-simple-linear"><i class="fa fa-check"></i><b>3.3</b> FIT REGRESSION: simple linear</a></li>
<li class="chapter" data-level="3.4" data-path="example-ventricular-shortening-velocity.html"><a href="example-ventricular-shortening-velocity.html#visualization-model-fit"><i class="fa fa-check"></i><b>3.4</b> VISUALIZATION: Model Fit</a></li>
<li class="chapter" data-level="3.5" data-path="example-ventricular-shortening-velocity.html"><a href="example-ventricular-shortening-velocity.html#check-validity-of-the-assumptions-w-residual-diagnostics"><i class="fa fa-check"></i><b>3.5</b> CHECK VALIDITY of the ASSUMPTIONS w/ residual diagnostics</a></li>
<li class="chapter" data-level="3.6" data-path="example-ventricular-shortening-velocity.html"><a href="example-ventricular-shortening-velocity.html#plot-the-model-1"><i class="fa fa-check"></i><b>3.6</b> Plot the model</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Encyclopedia of Quantitative Methods in R, vol. 4: Multiple Linear Regression</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="example-ihnos-experiment" class="section level1">
<h1><span class="header-section-number">1</span> Example: Ihno’s Experiment</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)       <span class="co"># super helpful everything!</span>
<span class="kw">library</span>(haven)           <span class="co"># inporting SPSS data files</span>
<span class="kw">library</span>(furniture)       <span class="co"># nice tables of descriptives</span>
<span class="kw">library</span>(texreg)          <span class="co"># nice regression summary tables</span>
<span class="kw">library</span>(stargazer)       <span class="co"># nice tables of descrip and regression</span>
<span class="kw">library</span>(car)             <span class="co"># companion for applied regression</span></code></pre></div>
<div id="purpose" class="section level2">
<h2><span class="header-section-number">1.1</span> Purpose</h2>
<div id="research-question" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Research Question</h3>
<blockquote>
<p>Does math phobia moderate the relationship between math and statistics performance? That is, does the assocation between math and stat quiz performance differ at variaous levels of math phobia?</p>
</blockquote>
</div>
<div id="data-description" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Data Description</h3>
<div class="rmdlink">
<p>
Inho’s dataset is included in the textbook “Explaining Psychological Statistics” <span class="citation"><span class="citation">(Cohen <a href="references.html#ref-epse4">2013</a>)</span></span> and details regarding the sample and measures is describe in this Encyclopedia’s <a href="https://cehs-research.github.io/eBook_explore/example-ihnos-dataset.html">Vol. 2 - Ihno’s Dataset</a>.
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data_ihno &lt;-<span class="st"> </span>haven<span class="op">::</span><span class="kw">read_spss</span>(<span class="st">&quot;http://www.psych.nyu.edu/cohen/Ihno_dataset.sav&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">rename_all</span>(tolower) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">gender =</span> <span class="kw">factor</span>(gender, 
                               <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),
                               <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Female&quot;</span>, 
                                          <span class="st">&quot;Male&quot;</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">major =</span> <span class="kw">factor</span>(major, 
                              <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>,<span class="dv">5</span>),
                              <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Psychology&quot;</span>,
                                         <span class="st">&quot;Premed&quot;</span>,
                                         <span class="st">&quot;Biology&quot;</span>,
                                         <span class="st">&quot;Sociology&quot;</span>,
                                         <span class="st">&quot;Economics&quot;</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">reason =</span> <span class="kw">factor</span>(reason,
                                <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),
                                <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Program requirement&quot;</span>,
                                           <span class="st">&quot;Personal interest&quot;</span>,
                                           <span class="st">&quot;Advisor recommendation&quot;</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">exp_cond =</span> <span class="kw">factor</span>(exp_cond,
                                  <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>),
                                  <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Easy&quot;</span>,
                                             <span class="st">&quot;Moderate&quot;</span>,
                                             <span class="st">&quot;Difficult&quot;</span>,
                                             <span class="st">&quot;Impossible&quot;</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">coffee =</span> <span class="kw">factor</span>(coffee,
                                <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),
                                <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Not a regular coffee drinker&quot;</span>,
                                           <span class="st">&quot;Regularly drinks coffee&quot;</span>))) </code></pre></div>
</div>
</div>
<div id="exploratory-data-analysis" class="section level2">
<h2><span class="header-section-number">1.2</span> Exploratory Data Analysis</h2>
<p>Before embarking on any inferencial anlaysis or modeling, always get familiar with your variables one at a time <em>(univariate)</em>, as well as pairwise <em>(bivariate)</em>.</p>
<div id="univariate-statistics" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Univariate Statistics</h3>
<p>Summary Statistics for all three variables of interest.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data_ihno <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(phobia, mathquiz, statquiz) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">data.frame</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>stargazer<span class="op">::</span><span class="kw">stargazer</span>(<span class="dt">type =</span> <span class="st">&quot;html&quot;</span>)</code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="8" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
N
</td>
<td>
Mean
</td>
<td>
St. Dev.
</td>
<td>
Min
</td>
<td>
Pctl(25)
</td>
<td>
Pctl(75)
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="8" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
phobia
</td>
<td>
100
</td>
<td>
3.310
</td>
<td>
2.444
</td>
<td>
0
</td>
<td>
1
</td>
<td>
4
</td>
<td>
10
</td>
</tr>
<tr>
<td style="text-align:left">
mathquiz
</td>
<td>
85
</td>
<td>
29.071
</td>
<td>
9.480
</td>
<td>
9.000
</td>
<td>
22.000
</td>
<td>
35.000
</td>
<td>
49.000
</td>
</tr>
<tr>
<td style="text-align:left">
statquiz
</td>
<td>
100
</td>
<td>
6.860
</td>
<td>
1.700
</td>
<td>
1
</td>
<td>
6
</td>
<td>
8
</td>
<td>
10
</td>
</tr>
<tr>
<td colspan="8" style="border-bottom: 1px solid black">
</td>
</tr>
</table>
</div>
<div id="bivariate-relationships" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Bivariate Relationships</h3>
<p>Although categorizing continuous variables results in a loss of information <em>(possible signal or noise)</em>, it is often done to investigate relationships in an exploratory way.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data_ihno <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">phobia_cut3 =</span> <span class="kw">cut</span>(phobia,
                                 <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">10</span>),
                                 <span class="dt">include.lowest =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>furniture<span class="op">::</span><span class="kw">table1</span>(mathquiz, statquiz,
                    <span class="dt">splitby =</span> <span class="op">~</span><span class="st"> </span>phobia_cut3,
                    <span class="dt">test =</span> <span class="ot">TRUE</span>,
                    <span class="dt">output =</span> <span class="st">&quot;markdown&quot;</span>)</code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th>[0,2]</th>
<th>(2,4]</th>
<th>(4,10]</th>
<th>P-Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>n = 39</td>
<td>n = 37</td>
<td>n = 24</td>
<td></td>
</tr>
<tr class="even">
<td>mathquiz</td>
<td></td>
<td></td>
<td></td>
<td>0.014</td>
</tr>
<tr class="odd">
<td></td>
<td>32.6 (8.5)</td>
<td>26.5 (9.8)</td>
<td>26.8 (8.9)</td>
<td></td>
</tr>
<tr class="even">
<td>statquiz</td>
<td></td>
<td></td>
<td></td>
<td>0.001</td>
</tr>
<tr class="odd">
<td></td>
<td>7.6 (1.3)</td>
<td>6.6 (1.6)</td>
<td>6.1 (2.0)</td>
<td></td>
</tr>
</tbody>
</table>
<p>When two variables are both continuous, correlations (Pearson’s <span class="math inline">\(R\)</span>) are an important measure of association.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data_ihno <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(phobia, mathquiz, statquiz) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">cor</span>(<span class="dt">use =</span> <span class="st">&quot;complete.obs&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>corrplot<span class="op">::</span><span class="kw">corrplot.mixed</span>(<span class="dt">lower  =</span> <span class="st">&quot;ellipse&quot;</span>,
                           <span class="dt">upper  =</span> <span class="st">&quot;number&quot;</span>,
                           <span class="dt">tl.col =</span> <span class="st">&quot;black&quot;</span>)</code></pre></div>
<p><img src="70-example_Ihno_files/figure-html/unnamed-chunk-7-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="regression-analysis" class="section level2">
<h2><span class="header-section-number">1.3</span> Regression Analysis</h2>
<div id="subset-the-sample" class="section level3">
<h3><span class="header-section-number">1.3.1</span> Subset the Sample</h3>
<p>All regression models can only be fit to complete observations regarding the variables included in the model (dependent and independent). Removing any case that is incomplete with respect to even one variables is called <strong>“list-wise deletion”</strong>.</p>
<p>In this analysis, models including the <code>mathquiz</code> variable will be fit on only 85 students (sincle 15 students did not take the math quiz), where as models not including this variable will be fit to all 100 studnets.</p>
<p>This complicates model comparisons, which require nested models be fit to the same data (exactly). For this reason, the dataset has been reduced to the subset of students that are complete regarding the three variables utilized throughout the set of five nested models.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data_ihno_fitting &lt;-<span class="st"> </span>data_ihno <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                      </span>dplyr<span class="op">::</span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(mathquiz, statquiz, phobia))

<span class="kw">dim</span>(data_ihno_fitting)</code></pre></div>
<pre><code>[1] 85 18</code></pre>
</div>
<div id="fit-nested-models" class="section level3">
<h3><span class="header-section-number">1.3.2</span> Fit Nested Models</h3>
<p>The <strong>bottom-up</strong> approach consists of starting with an initial <code>NULL</code> model with only an intercept term and them building additional models that are nested.</p>
<p>Two models are considered <strong>nested</strong> if one is conains a subset of the terms (predictors or IV) compared to the other.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fit_ihno_lm_<span class="dv">0</span> &lt;-<span class="st"> </span><span class="kw">lm</span>(statquiz <span class="op">~</span><span class="st"> </span><span class="dv">1</span>,                    <span class="co"># null model: intercept only</span>
                    <span class="dt">data =</span> data_ihno_fitting)

fit_ihno_lm_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">lm</span>(statquiz <span class="op">~</span><span class="st"> </span>mathquiz,             <span class="co"># only main effect of mathquiz</span>
                    <span class="dt">data =</span> data_ihno_fitting)

fit_ihno_lm_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">lm</span>(statquiz <span class="op">~</span><span class="st"> </span>phobia,               <span class="co"># only mian effect of phobia</span>
                    <span class="dt">data =</span> data_ihno_fitting)

fit_ihno_lm_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw">lm</span>(statquiz <span class="op">~</span><span class="st"> </span>mathquiz <span class="op">+</span><span class="st"> </span>phobia,    <span class="co"># both main effects </span>
                    <span class="dt">data =</span> data_ihno_fitting)

fit_ihno_lm_<span class="dv">4</span> &lt;-<span class="st"> </span><span class="kw">lm</span>(statquiz <span class="op">~</span><span class="st"> </span>mathquiz<span class="op">*</span>phobia,      <span class="co"># additional interaction</span>
                    <span class="dt">data =</span> data_ihno_fitting)</code></pre></div>
</div>
<div id="comparing-nested-models" class="section level3">
<h3><span class="header-section-number">1.3.3</span> Comparing Nested Models</h3>
<div id="model-comparison-table" class="section level4">
<h4><span class="header-section-number">1.3.3.1</span> Model Comparison Table</h4>
<p>In single level, multiple linear regression significance of predictors (independent variables, IV) is usually based on both the Wald tests of significance for each beta estimate (shown with stars here) and comparisons in the model fit via the <span class="math inline">\(R^2\)</span> values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">texreg<span class="op">::</span><span class="kw">htmlreg</span>(<span class="kw">list</span>(fit_ihno_lm_<span class="dv">0</span>, 
                     fit_ihno_lm_<span class="dv">1</span>, 
                     fit_ihno_lm_<span class="dv">2</span>, 
                     fit_ihno_lm_<span class="dv">3</span>, 
                     fit_ihno_lm_<span class="dv">4</span>),
                <span class="dt">custom.model.names =</span> <span class="kw">c</span>(<span class="st">&quot;No Predictors&quot;</span>, 
                                       <span class="st">&quot;Only Math Quiz&quot;</span>, 
                                       <span class="st">&quot;Only Phobia&quot;</span>, 
                                       <span class="st">&quot;Both IVs&quot;</span>, 
                                       <span class="st">&quot;Add Interaction&quot;</span>))</code></pre></div>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<table cellspacing="0" align="center" style="border: none;">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>No Predictors</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Only Math Quiz</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Only Phobia</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Both IVs</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Add Interaction</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
(Intercept)
</td>
<td style="padding-right: 12px; border: none;">
6.85<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
4.14<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
7.65<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
5.02<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
5.60<sup style="vertical-align: 0px;">***</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.19)
</td>
<td style="padding-right: 12px; border: none;">
(0.53)
</td>
<td style="padding-right: 12px; border: none;">
(0.29)
</td>
<td style="padding-right: 12px; border: none;">
(0.63)
</td>
<td style="padding-right: 12px; border: none;">
(0.91)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
mathquiz
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.09<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.08<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
0.06<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.02)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.02)
</td>
<td style="padding-right: 12px; border: none;">
(0.03)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
phobia
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
-0.25<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
-0.16<sup style="vertical-align: 0px;">*</sup>
</td>
<td style="padding-right: 12px; border: none;">
-0.34
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.07)
</td>
<td style="padding-right: 12px; border: none;">
(0.07)
</td>
<td style="padding-right: 12px; border: none;">
(0.21)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
mathquiz:phobia
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.01
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.01)
</td>
</tr>
<tr>
<td style="border-top: 1px solid black;">
R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="border-top: 1px solid black;">
0.00
</td>
<td style="border-top: 1px solid black;">
0.26
</td>
<td style="border-top: 1px solid black;">
0.13
</td>
<td style="border-top: 1px solid black;">
0.31
</td>
<td style="border-top: 1px solid black;">
0.31
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Adj. R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="padding-right: 12px; border: none;">
0.00
</td>
<td style="padding-right: 12px; border: none;">
0.25
</td>
<td style="padding-right: 12px; border: none;">
0.12
</td>
<td style="padding-right: 12px; border: none;">
0.29
</td>
<td style="padding-right: 12px; border: none;">
0.29
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Num. obs.
</td>
<td style="padding-right: 12px; border: none;">
85
</td>
<td style="padding-right: 12px; border: none;">
85
</td>
<td style="padding-right: 12px; border: none;">
85
</td>
<td style="padding-right: 12px; border: none;">
85
</td>
<td style="padding-right: 12px; border: none;">
85
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid black;">
RMSE
</td>
<td style="border-bottom: 2px solid black;">
1.74
</td>
<td style="border-bottom: 2px solid black;">
1.50
</td>
<td style="border-bottom: 2px solid black;">
1.63
</td>
<td style="border-bottom: 2px solid black;">
1.46
</td>
<td style="border-bottom: 2px solid black;">
1.46
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="7">
<span style="font-size:0.8em"><sup style="vertical-align: 0px;"><em><strong></sup>p &lt; 0.001, <sup style="vertical-align: 0px;"></strong></sup>p &lt; 0.01, <sup style="vertical-align: 0px;"></em></sup>p &lt; 0.05</span>
</td>
</tr>
</table>
</div>
<div id="likelihood-ratio-test-of-nested-models" class="section level4">
<h4><span class="header-section-number">1.3.3.2</span> Likelihood Ratio Test of Nested Models</h4>
<p>An alternative method for determing model fit and variable importance is the likelihood ratio test. This involves comparing the <span class="math inline">\(-2LL\)</span> or inverse of twice the log of the likelihood value for the model. The difference in these values follows a Chi Squared distribution with degrees of freedom equal to the difference in the number of parameters estimated <em>(number of betas)</em>.</p>
<ul>
<li>Test the main effect of math quiz:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">anova</span>(fit_ihno_lm_<span class="dv">0</span>, fit_ihno_lm_<span class="dv">1</span>)</code></pre></div>
<pre><code># A tibble: 2 x 6
  Res.Df   RSS    Df `Sum of Sq`     F     `Pr(&gt;F)`
*  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt;
1     84  253.    NA        NA    NA   NA          
2     83  188.     1        65.3  28.8  0.000000700</code></pre>
<ul>
<li>Test the main effect of math phobia</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">anova</span>(fit_ihno_lm_<span class="dv">0</span>, fit_ihno_lm_<span class="dv">2</span>)</code></pre></div>
<pre><code># A tibble: 2 x 6
  Res.Df   RSS    Df `Sum of Sq`     F  `Pr(&gt;F)`
*  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;
1     84  253.    NA        NA    NA   NA       
2     83  221.     1        32.3  12.1  0.000791</code></pre>
<ul>
<li>Test the main effect of math phobia, after controlling for math test</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">anova</span>(fit_ihno_lm_<span class="dv">1</span>, fit_ihno_lm_<span class="dv">3</span>) </code></pre></div>
<pre><code># A tibble: 2 x 6
  Res.Df   RSS    Df `Sum of Sq`     F `Pr(&gt;F)`
*  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
1     83  188.    NA        NA   NA     NA     
2     82  175.     1        12.6  5.88   0.0175</code></pre>
<ul>
<li>Test the interaction between math test and math phobia (i.e. moderation)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">anova</span>(fit_ihno_lm_<span class="dv">3</span>, fit_ihno_lm_<span class="dv">4</span>)</code></pre></div>
<pre><code># A tibble: 2 x 6
  Res.Df   RSS    Df `Sum of Sq`      F `Pr(&gt;F)`
*  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;
1     82  175.    NA       NA    NA       NA    
2     81  173.     1        1.69  0.789    0.377</code></pre>
</div>
</div>
<div id="checking-assumptions-via-residual-diagnostics" class="section level3">
<h3><span class="header-section-number">1.3.4</span> Checking Assumptions via Residual Diagnostics</h3>
<p>Before reporting a model, ALWAYS make sure to check the residules to ensure that the model assumptions are not violated.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(fit_ihno_lm_<span class="dv">3</span>, <span class="dt">which =</span> <span class="dv">1</span>)</code></pre></div>
<p><img src="70-example_Ihno_files/figure-html/unnamed-chunk-15-1.png" width="576" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(fit_ihno_lm_<span class="dv">3</span>, <span class="dt">which =</span> <span class="dv">2</span>)</code></pre></div>
<p><img src="70-example_Ihno_files/figure-html/unnamed-chunk-16-1.png" width="576" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">car<span class="op">::</span><span class="kw">residualPlots</span>(fit_ihno_lm_<span class="dv">3</span>)</code></pre></div>
<p><img src="70-example_Ihno_files/figure-html/unnamed-chunk-17-1.png" width="576" style="display: block; margin: auto;" /></p>
<pre><code>           Test stat Pr(&gt;|Test stat|)  
mathquiz     -1.7778          0.07918 .
phobia        0.5004          0.61813  
Tukey test   -1.5749          0.11527  
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(fit_ihno_lm_<span class="dv">3</span>)</code></pre></div>
<pre><code>
Call:
lm(formula = statquiz ~ mathquiz + phobia, data = data_ihno_fitting)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.3436 -0.8527  0.2805  0.9857  2.7370 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  5.01860    0.62791   7.993 7.23e-12 ***
mathquiz     0.08097    0.01754   4.617 1.42e-05 ***
phobia      -0.16176    0.06670  -2.425   0.0175 *  
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 1.462 on 82 degrees of freedom
Multiple R-squared:  0.3076,    Adjusted R-squared:  0.2907 
F-statistic: 18.21 on 2 and 82 DF,  p-value: 2.849e-07</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(fit_ihno_lm_<span class="dv">4</span>)</code></pre></div>
<pre><code>
Call:
lm(formula = statquiz ~ mathquiz * phobia, data = data_ihno_fitting)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.1634 -0.8433  0.2832  0.9685  2.9434 

Coefficients:
                 Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)      5.600183   0.907824   6.169 2.57e-08 ***
mathquiz         0.061216   0.028334   2.161   0.0337 *  
phobia          -0.339426   0.210907  -1.609   0.1114    
mathquiz:phobia  0.006485   0.007303   0.888   0.3771    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 1.464 on 81 degrees of freedom
Multiple R-squared:  0.3143,    Adjusted R-squared:  0.2889 
F-statistic: 12.37 on 3 and 81 DF,  p-value: 9.637e-07</code></pre>
</div>
</div>
<div id="conclusion" class="section level2">
<h2><span class="header-section-number">1.4</span> Conclusion</h2>
<div id="tabulate-the-final-model-summary" class="section level3">
<h3><span class="header-section-number">1.4.1</span> Tabulate the Final Model Summary</h3>
<p>Many journals prefer that regression tables include 95% confidence intervals, rater than standard errors for the beta estimates.</p>
<div class="rmdlightbulb">
<p>
The <code>texreg</code> package contains three version of the regression table function.
</p>
<ul>
<li>
<code>screenreg()</code> Use when working on a project and viewing tables on your computer screen
</li>
<li>
<code>htmlreg()</code> Use when knitting your .Rmd file to a .html document
</li>
<li>
<code>texreg()</code> Use when knitting your .Rmd file to a .pdf via LaTeX
</li>
</ul>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">texreg<span class="op">::</span><span class="kw">htmlreg</span>(fit_ihno_lm_<span class="dv">3</span>,
               <span class="dt">custom.model.names =</span> <span class="st">&quot;Main Effects Model&quot;</span>,
               <span class="dt">ci.force =</span> <span class="ot">TRUE</span>,                              <span class="co"># request 95% conf interv</span>
               <span class="dt">caption =</span> <span class="st">&quot;Final Model for Stat&#39;s Quiz&quot;</span>,
               <span class="dt">single.row =</span> <span class="ot">TRUE</span>)</code></pre></div>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<table cellspacing="0" align="center" style="border: none;">
<caption align="bottom" style="margin-top:0.3em;">
Final Model for Stat’s Quiz
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Main Effects Model</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
(Intercept)
</td>
<td style="padding-right: 12px; border: none;">
5.02 [3.79; 6.25]<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
mathquiz
</td>
<td style="padding-right: 12px; border: none;">
0.08 [0.05; 0.12]<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
phobia
</td>
<td style="padding-right: 12px; border: none;">
-0.16 [-0.29; -0.03]<sup style="vertical-align: 0px;">*</sup>
</td>
</tr>
<tr>
<td style="border-top: 1px solid black;">
R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="border-top: 1px solid black;">
0.31
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Adj. R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="padding-right: 12px; border: none;">
0.29
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Num. obs.
</td>
<td style="padding-right: 12px; border: none;">
85
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid black;">
RMSE
</td>
<td style="border-bottom: 2px solid black;">
1.46
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="3">
<span style="font-size:0.8em"><sup>*</sup> 0 outside the confidence interval</span>
</td>
</tr>
</table>
</div>
<div id="plot-the-model" class="section level3">
<h3><span class="header-section-number">1.4.2</span> Plot the Model</h3>
<p>When a model only contains main effects, a plot is not important for interpretation, but can help understand the relationship between multiple predictors.</p>
<div class="rmdlightbulb">
<p>
When plotting a regression model the outcome (dependent variable) is always on the y-axis (<code>fit</code>) and only one predictor (independent variable) may be used on the x-axis. You may incorporate additional predictor using colors, shapes, linetypes, or facets. For these predictors, you will want to specify only 2-4 values for illustration and then declare them as factors prior to plotting.
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">effects<span class="op">::</span><span class="kw">Effect</span>(<span class="dt">focal.predictors =</span> <span class="kw">c</span>(<span class="st">&quot;mathquiz&quot;</span>, <span class="st">&quot;phobia&quot;</span>),
                <span class="dt">mod =</span> fit_ihno_lm_<span class="dv">3</span>,
                <span class="dt">xlevels =</span> <span class="kw">list</span>(<span class="dt">phobia =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>))) <span class="op">%&gt;%</span><span class="st">   </span><span class="co"># values for illustration</span>
<span class="st">  </span>data.frame <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">phobia =</span> <span class="kw">factor</span>(phobia)) <span class="op">%&gt;%</span><span class="st">               </span><span class="co"># factor for illustration</span>
<span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> mathquiz,
      <span class="dt">y =</span> fit,
      <span class="dt">fill =</span> phobia,
      <span class="dt">color =</span> phobia) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> fit <span class="op">-</span><span class="st"> </span>se, 
                  <span class="dt">ymax =</span> fit <span class="op">+</span><span class="st"> </span>se),
              <span class="dt">alpha =</span> .<span class="dv">3</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Score on Math Quiz&quot;</span>,
       <span class="dt">y =</span> <span class="st">&quot;Estimated Marginal Mean</span><span class="ch">\n</span><span class="st">Score on Stat Quiz&quot;</span>,
       <span class="dt">fill  =</span> <span class="st">&quot;Self Rated</span><span class="ch">\n</span><span class="st">Math Phobia&quot;</span>,
       <span class="dt">color =</span> <span class="st">&quot;Self Rated</span><span class="ch">\n</span><span class="st">Math Phobia&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.background =</span> <span class="kw">element_rect</span>(<span class="dt">color =</span> <span class="st">&quot;black&quot;</span>),
        <span class="dt">legend.position =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),
        <span class="dt">legend.justification =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))</code></pre></div>
<p><img src="70-example_Ihno_files/figure-html/unnamed-chunk-23-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="write-up" class="section level2">
<h2><span class="header-section-number">1.5</span> Write-up</h2>
<blockquote>
<p>There is evidence both <code>mathquiz</code> and <code>phobia</code> are associated with <code>statquiz</code> and that the relationship is addative (i.e. no interaction).</p>
</blockquote>
<p>There is a strong association between math and stats quiz scores, <span class="math inline">\(r = .51\)</span>. Math phobia is associated with lower math, <span class="math inline">\(r = -.28\)</span>, and stats quiz scores, <span class="math inline">\(r = -.36\)</span>. When considered togehter, the combined effects of math phobia and math score account for 31% of the variance in statistical achievement.</p>
<p>Not surprizingly, while higher self-reported math phobia was associated with lower statists scores, <span class="math inline">\(b = -0.162\)</span>, <span class="math inline">\(p=.018\)</span>, <span class="math inline">\(95CI = [-0.29, -0.03]\)</span>, higher math quiz scores were associated with higher stats score, <span class="math inline">\(b = -0.081\)</span>, <span class="math inline">\(p&lt;.001\)</span>, <span class="math inline">\(95CI = [0.05, 0.12]\)</span>.</p>
<p>There was no evidence that math phobia moderated the relationship between math and quiz performance, <span class="math inline">\(p=.377\)</span>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="example-obesity-and-blood-pressure.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
